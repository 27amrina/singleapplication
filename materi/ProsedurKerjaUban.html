<!doctype html>
<html lang="id">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Apersepsi ‚Ä¢ Single Application</title>

    <!-- Bootstrap & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        :root {
            --navbar-h: 55px;
            --footer-h: 40px;
            --brand: #ff3f8e;
            --sidebar-w: 255px;
            --sidebar-gap: 8px;
            --line: #e5e7eb;
        }

        html,
        body {
            height: 100%;
        }

        body {
            padding-bottom: var(--footer-h);
            background: #fff;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }

        .main-pad {
            padding-top: var(--navbar-h);
        }

        main.app-shell {
            min-height: calc(100vh - var(--navbar-h) - var(--footer-h));
        }

        .navbar,
        .footer {
            background: #fff;
        }

        .footer {
            border-top: 1px solid #eee;
        }

        .menu-card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, .04);
        }

        .menu-title {
            padding: .75rem 1rem;
            border-bottom: 1px solid #eee;
            font-weight: 600;
        }

        .menu-item {
            display: block;
            padding: .6rem 1rem;
            color: inherit;
            text-decoration: none;
            font-size: .95rem;
        }

        .menu-item:hover {
            background: #fafafa;
        }

        .menu-item.active {
            background: #f5f5f5;
            font-weight: 600;
        }

        .no-top-gap>aside,
        .no-top-gap>section {
            padding-top: 0 !important;
        }

        .btn-brand {
            background: var(--brand);
            color: #fff;
        }

        .btn-brand:hover {
            color: #fff;
            filter: brightness(.95);
        }

        .materi-card .card-header {
            background: #fff;
            border-bottom: 1px solid #eee;
            padding: .5rem 1rem;
        }

        .page-nav {
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }

        .page-nav-inner {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: .5rem;
            flex-wrap: wrap;
        }

        /* Mobile: sidebar ikut alur */
        @media (max-width: 767.98px) {
            .sidebar-fixed {
                position: static;
                width: 100%;
            }
        }

        /* Desktop: sidebar fixed kiri, konten bergeser & card dipendekkan */
        @media (min-width: 768px) {
            .sidebar-fixed {
                position: fixed;
                top: var(--navbar-h);
                left: 0;
                width: var(--sidebar-w);
                height: calc(100dvh - var(--navbar-h));
                overflow-y: auto;
            }

            .content-with-fixed {
                margin-left: calc(var(--sidebar-w) + var(--sidebar-gap));
            }

            .materi-card {
                display: flex;
                flex-direction: column;
                max-height: calc(100dvh - var(--navbar-h) - var(--footer-h) - 90px);
            }

            .materi-card .card-body {
                flex: 1 1 auto;
                min-height: 0;
                overflow: auto;
                -webkit-overflow-scrolling: touch;
            }
        }

        .flashcard {
            border: 1px solid var(--line);
            border-radius: 8px;
            padding: .75rem;
            cursor: pointer;
            background: #fff;
            transition: background .15s, box-shadow .15s;
        }

        .flashcard.active {
            background: rgba(255, 63, 142, 0.04);
            box-shadow: 0 0 0 1px rgba(255, 63, 142, 0.25);
        }

        .box {
            fill: #fff;
            stroke: #e5e7eb;
            stroke-width: 2;
            rx: 16;
        }

        .line {
            stroke: var(--brand);
            stroke-width: 3;
        }

        .text {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            font-size: 18px;
        }
    </style>
</head>

<body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-light navbar-expand-lg fixed-top shadow-sm">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center gap-2" href="../index.html">
                <i class="bi bi-brush" style="font-size:1.25rem; color:var(--brand)"></i>
                <strong>Pewarnaan Rambut</strong> <span class="fw-normal">‚Ä¢ Single Application</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navs">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navs">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="../index.html">Beranda</a></li>
                    <li class="nav-item"><a class="nav-link active fw-semibold" style="color:var(--brand)"
                            aria-current="page" href="videopengantar.html">Materi</a></li>
                    <li class="nav-item"><a class="nav-link" href="../latihan.html">Latihan</a></li>
                    <li class="nav-item"><a class="nav-link" href="../kd.html">Tujuan Pembelajaran</a></li>
                    <li class="nav-item"><a class="nav-link" href="../peta.html">Peta Konsep</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- MAIN: sidebar + konten -->
    <main class="main-pad app-shell">
        <div class="container-fluid">
            <div class="row g-1 no-top-gap">
                <!-- SIDEBAR -->
                <aside class="col-12 col-md-auto order-1 order-md-0 p-0">
                    <nav class="menu-card sidebar-fixed shadow-sm">
                        <div class="menu-title"><i class="bi bi-journal-bookmark"></i> Single Application</div>
                        <a class="menu-item" aria-current="page" href="videopengantar.html">
                            <i class="bi bi-lightbulb">Video Pengantar</i>
                        </a>
                        <a class="menu-item" aria-current="page" href="SingleApplication.html">
                            <i class="bi bi-lightbulb"></i> Overview Single Application
                        </a>

                        <!-- A. Pewarnaan Rambut Single -->
                        <button class="d-flex align-items-center w-100 border-0 bg-transparent menu-item" type="button"
                            data-bs-toggle="collapse" data-bs-target="#submenu-A" aria-expanded="true"
                            aria-controls="submenu-A">
                            <span class="me-2"><i class="bi bi-droplet-half"></i></span>
                            <span class="flex-grow-1 text-start">A. Pewarnaan Rambut Single</span>
                            <i class="bi bi-chevron-down small"></i>
                        </button>
                        <div class="collapse show" id="submenu-A">
                            <ul class="nav flex-column ps-4 my-1">
                                <li><a class="menu-item py-1" href="PewarnaanSingleApplication.html">1. Pewarnaan Single
                                        Application</a></li>
                                <li><a class="menu-item py-1" href="CaraMemilihWarna.html">2. Cara Memilih Warna</a>
                                </li>
                                <li><a class="menu-item py-1" href="MemilihWarnaCat.html">3. Memilih Warna Cat</a></li>
                                <li><a class="menu-item py-1" href="KontraindikasiPewarnaan.html">4. Kontraindikasi
                                        Pewarnaan</a></li>
                                <li><a class="menu-item py-1" href="HalYangDiperhatikan.html">5. Hal Diperhatikan</a>
                                </li>
                                <li><a class="menu-item py-1" href="AyoLakukanA.html">6. Ayo Lakukan</a></li>
                            </ul>
                        </div>

                        <!-- B. Toning -->
                        <button class="d-flex align-items-center w-100 border-0 bg-transparent menu-item" type="button"
                            data-bs-toggle="collapse" data-bs-target="#submenu-B" aria-expanded="true"
                            aria-controls="submenu-B">
                            <span class="me-2"><i class="bi bi-palette"></i></span>
                            <span class="flex-grow-1 text-start">B. Toning</span>
                            <i class="bi bi-chevron-down small"></i>
                        </button>
                        <div class="collapse show" id="submenu-B">
                            <ul class="nav flex-column ps-4 my-1">
                                <li><a class="menu-item py-1" href="HairToning.html">1. Hair Toning</a></li>
                                <li><a class="menu-item py-1" href="CiriHairToning.html">2. Ciri Hair Toning</a></li>
                                <li><a class="menu-item py-1" href="KeunggulanHairToning.html">3. Keunggulan Hair
                                        Toning</a></li>
                                <li><a class="menu-item py-1" href="KosmetikHairToning.html">4. Kosmetik Hair Toning</a>
                                </li>
                                <li><a class="menu-item py-1" href="ProsedurToning.html">5. Prosedur Melakukan
                                        Toning</a></li>
                                <li><a class="menu-item py-1" href="HalDiperhatikanToning.html">6. Hal Diperhatikan</a>
                                </li>
                                <li><a class="menu-item py-1" href="AyoLakukanB.html">7. Ayo Lakukan</a></li>
                            </ul>
                        </div>

                        <!-- C. Pewarnaan Uban -->
                        <button class="d-flex align-items-center w-100 border-0 bg-transparent menu-item" type="button"
                            data-bs-toggle="collapse" data-bs-target="#submenu-C" aria-expanded="true"
                            aria-controls="submenu-C">
                            <span class="me-2"><i class="bi bi-person-lines-fill"></i></span>
                            <span class="flex-grow-1 text-start">C. Pewarnaan Uban</span>
                            <i class="bi bi-chevron-down small"></i>
                        </button>
                        <div class="collapse show" id="submenu-C">
                            <ul class="nav flex-column ps-4 my-1">
                                <li><a class="menu-item py-1" href="PewarnaanUban.html">1. Pewarnaan Uban</a></li>
                                <li><a class="menu-item py-1" href="JenisPewarnaanUban.html">2. Jenis Pewarnaan</a>
                                </li>
                                <li><a class="menu-item py-1" href="TeknikPewarnaanUban.html">3. Teknik Pewarnaan</a>
                                </li>
                                <li><a class="menu-item py-1" href="UjiTempel.html">4. Uji Tempel</a></li>
                                <li><a class="menu-item py-1 active" href="ProsedurKerjaUban.html">5. Prosedur Kerja</a>
                                </li>
                                <li><a class="menu-item py-1" href="ReaksiAlergiUban.html">6. Reaksi Alergi</a></li>
                                <li><a class="menu-item py-1" href="KesalahanPewarnaanUban.html">7. Kesalahan
                                        Pewarnaan</a></li>
                                <li><a class="menu-item py-1" href="AyoLakukanC.html">8. Ayo Lakukan</a></li>
                            </ul>
                        </div>

                        <!-- Evaluasi -->
                        <a class="menu-item" href="../evaluasi.html">
                            <i class="bi bi-clipboard-check"></i> Evaluasi
                        </a>
                        <a class="menu-item" href="VideoPentup.html">
                            <i class="bi bi-camera-video"></i> Evaluasi
                        </a>
                    </nav>
                </aside>

                <!-- KONTEN KANAN -->
                <section class="col-12 col-md-9 col-xl-10 content-with-fixed order-2 order-md-0">
                    <div class="card shadow-sm materi-card">
                        <div class="card-header d-flex align-items-center gap-2">
                            <i class="bi bi-lightbulb" style="color:var(--brand); font-size:1.25rem;"></i>
                            <h3 class="h5 mb-0 fw-bold">Video Pengantar
                        </div>

                        <div class="card-body" id="apersepsi-hair-coloring">
                            <header class="py-4 bg-light border-bottom">
                                <div class="container">
                                    <h1 class="h4 mb-1">Prosedur Kerja Pewarnaan Uban</h1>
                                    <p class="text-secondary mb-0">
                                        Proses pewarnaan uban sebenarnya mirip dengan pewarnaan rambut biasa, tetapi
                                        membutuhkan
                                        persiapan area kerja, alat, bahan, kosmetik, dan pelanggan yang lebih teliti
                                        agar hasil
                                        penutupan uban rapi dan aman.
                                    </p>
                                </div>
                            </header>

                            <!-- ============= MATERI RINGKAS (SAMA SEPERTI SEBELUMNYA) ============= -->
                            <section id="materi" class="mb-4">
                                <div class="card card-pink shadow-sm">
                                    <div class="card-body">
                                        <div class="badge-section mb-1">Ringkasan Materi</div>
                                        <h2 class="h5 mb-3">a. Persiapan Area Kerja, Alat, Bahan, dan Kosmetik</h2>

                                        <p class="mb-2"><strong>Tabel 6.6 Persiapan untuk Pewarnaan Rambut</strong>
                                            dapat diringkas sebagai berikut:</p>
                                        <div class="row g-3 mb-2">
                                            <div class="col-md-4">
                                                <div class="bg-white border rounded p-2 h-100">
                                                    <h6 class="mb-1">1) Persiapan Area Kerja</h6>
                                                    <ul class="small mb-0">
                                                        <li>Perabotan bersih, kuat, dan tidak rusak.</li>
                                                        <li>Lantai bersih, tidak licin, tidak berdebu.</li>
                                                        <li>Pencahayaan cukup dan ruangan tidak pengap.</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="bg-white border rounded p-2 h-100">
                                                    <h6 class="mb-1">2) Persiapan Peralatan</h6>
                                                    <ul class="small mb-0">
                                                        <li>Peralatan bersih, sudah didesinfeksi.</li>
                                                        <li>Tidak rusak dan siap digunakan.</li>
                                                        <li>Disusun rapi di atas troli.</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="bg-white border rounded p-2 h-100">
                                                    <h6 class="mb-1">3) Bahan &amp; Linen</h6>
                                                    <ul class="small mb-0">
                                                        <li>Kapas, tisu, dan bahan lain tersedia dan tertutup.</li>
                                                        <li>Handuk rapi, bersih, harum.</li>
                                                        <li>Cape sampo dan cape pewarnaan bersih.</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="bg-white border rounded p-2 h-100 mt-2">
                                                    <h6 class="mb-1">4) Persiapan Kosmetik</h6>
                                                    <ul class="small mb-0">
                                                        <li>Kosmetik lengkap sesuai kesepakatan dengan pelanggan.</li>
                                                        <li>Dicek kembali batas kedaluwarsa.</li>
                                                        <li>Disiapkan timbangan &amp; gelas ukur.</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="bg-white border rounded p-2 h-100 mt-2">
                                                    <h6 class="mb-1">5) Persiapan Pelanggan</h6>
                                                    <ul class="small mb-0">
                                                        <li>Menggunakan cape sampo/cape pewarnaan.</li>
                                                        <li>Posisi duduk nyaman dan aman.</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="bg-white border rounded p-2 h-100 mt-2">
                                                    <h6 class="mb-1">6) Persiapan Pribadi</h6>
                                                    <ul class="small mb-0">
                                                        <li>Mengenakan baju kerja, celemek, sarung tangan, masker, dan
                                                            sepatu nyaman.</li>
                                                        <li>Rambut penata rapi.</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <h2 class="h5 mt-3 mb-2">b. Pelaksanaan Pewarnaan Uban</h2>
                                        <p class="small mb-2">
                                            Menyiapkan pelanggan, konsultasi &amp; diagnosis, penyampoan, pengeringan,
                                            membagi rambut,
                                            mencampur dan mengaplikasikan kosmetik pewarna, menunggu waktu olah,
                                            membilas &amp;
                                            memberi kondisioner, mengeringkan dan menata rambut, lalu koreksi
                                            keseluruhan.
                                        </p>

                                        <h2 class="h5 mt-3 mb-2">c. Berkemas</h2>
                                        <p class="small mb-0">
                                            Setelah proses selesai, area kerja dibersihkan, alat dan bahan dikembalikan
                                            ke tempat
                                            semula, linen kotor dikumpulkan, serta sisa kosmetik dibereskan sesuai
                                            prosedur
                                            kebersihan salon.
                                        </p>
                                    </div>
                                </div>
                            </section>

                            <!-- ================== LATIHAN 1 ‚Äì SAMA ================== -->
                            <section id="lat1" class="mb-4">
                                <div class="card card-pink shadow-sm">
                                    <div class="card-body">
                                        <div class="badge-section mb-1">Latihan 1</div>
                                        <h2 class="h5 mb-2">Klasifikasi Persiapan</h2>
                                        <p class="text-secondary small mb-3">
                                            Pilih kategori persiapan yang paling tepat untuk setiap pernyataan berikut.
                                        </p>

                                        <div class="mb-2">
                                            <p class="mb-1 small"><strong>1)</strong> Menata handuk bersih dan harum di
                                                rak serta menyiapkan
                                                cape sampo.</p>
                                            <select id="prep1" class="form-select form-select-sm w-auto">
                                                <option value="">-- pilih kategori --</option>
                                                <option value="area">Persiapan Area Kerja</option>
                                                <option value="alat">Persiapan Peralatan</option>
                                                <option value="bahan">Persiapan Bahan &amp; Linen</option>
                                                <option value="kosmetik">Persiapan Kosmetik</option>
                                                <option value="pelanggan">Persiapan Pelanggan</option>
                                                <option value="pribadi">Persiapan Pribadi</option>
                                            </select>
                                        </div>

                                        <div class="mb-2">
                                            <p class="mb-1 small"><strong>2)</strong> Mengecek bahwa semua kuas,
                                                mangkuk, dan sisir pewarna
                                                sudah disterilisasi dan bebas kotoran.</p>
                                            <select id="prep2" class="form-select form-select-sm w-auto">
                                                <option value="">-- pilih kategori --</option>
                                                <option value="area">Persiapan Area Kerja</option>
                                                <option value="alat">Persiapan Peralatan</option>
                                                <option value="bahan">Persiapan Bahan &amp; Linen</option>
                                                <option value="kosmetik">Persiapan Kosmetik</option>
                                                <option value="pelanggan">Persiapan Pelanggan</option>
                                                <option value="pribadi">Persiapan Pribadi</option>
                                            </select>
                                        </div>

                                        <div class="mb-2">
                                            <p class="mb-1 small"><strong>3)</strong> Memastikan pewarna uban dan
                                                developer sudah sesuai
                                                kesepakatan dengan pelanggan dan belum kedaluwarsa.</p>
                                            <select id="prep3" class="form-select form-select-sm w-auto">
                                                <option value="">-- pilih kategori --</option>
                                                <option value="area">Persiapan Area Kerja</option>
                                                <option value="alat">Persiapan Peralatan</option>
                                                <option value="bahan">Persiapan Bahan &amp; Linen</option>
                                                <option value="kosmetik">Persiapan Kosmetik</option>
                                                <option value="pelanggan">Persiapan Pelanggan</option>
                                                <option value="pribadi">Persiapan Pribadi</option>
                                            </select>
                                        </div>

                                        <div class="mb-2">
                                            <p class="mb-1 small"><strong>4)</strong> Hairdresser memakai baju kerja,
                                                celemek, sarung tangan,
                                                dan masker.</p>
                                            <select id="prep4" class="form-select form-select-sm w-auto">
                                                <option value="">-- pilih kategori --</option>
                                                <option value="area">Persiapan Area Kerja</option>
                                                <option value="alat">Persiapan Peralatan</option>
                                                <option value="bahan">Persiapan Bahan &amp; Linen</option>
                                                <option value="kosmetik">Persiapan Kosmetik</option>
                                                <option value="pelanggan">Persiapan Pelanggan</option>
                                                <option value="pribadi">Persiapan Pribadi</option>
                                            </select>
                                        </div>

                                        <div id="feedPrep" class="mt-2 small"></div>
                                        <div class="btn-row">
                                            <button class="btn btn-outline-pink btn-sm" onclick="cekPrep()">Cek
                                                Jawaban</button>
                                            <button class="btn btn-pink btn-sm" onclick="simpanPrep()">Simpan Latihan
                                                1</button>
                                            <button class="btn btn-outline-secondary btn-sm"
                                                onclick="resetPrep()">Reset</button>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- ============= LATIHAN 2 ‚Äì DRAG & DROP URUTAN ============= -->
                            <section id="lat2" class="mb-4">
                                <div class="card card-pink shadow-sm">
                                    <div class="card-body">
                                        <div class="badge-section mb-1">Latihan 2</div>
                                        <h2 class="h5 mb-2">Urutkan Langkah Pewarnaan Uban (Drag &amp; Drop)</h2>
                                        <p class="text-secondary small mb-3">
                                            Seret (drag) tiap kartu langkah di bawah ini hingga urut dari langkah
                                            pertama sampai terakhir.
                                        </p>

                                        <ul id="stepList" class="list-group small">
                                            <!-- urutan awal boleh acak -->
                                            <li class="list-group-item draggable-step" draggable="true" data-id="A">
                                                <strong>A.</strong> Mengoleskan pewarna uban pada setiap section rambut
                                                hingga merata.
                                            </li>
                                            <li class="list-group-item draggable-step" draggable="true" data-id="B">
                                                <strong>B.</strong> Menyiapkan pelanggan, melakukan konsultasi dan
                                                diagnosis.
                                            </li>
                                            <li class="list-group-item draggable-step" draggable="true" data-id="C">
                                                <strong>C.</strong> Melakukan penyampoan sampai rambut bersih lalu
                                                mengeringkan.
                                            </li>
                                            <li class="list-group-item draggable-step" draggable="true" data-id="D">
                                                <strong>D.</strong> Menunggu waktu olah sesuai petunjuk produk.
                                            </li>
                                            <li class="list-group-item draggable-step" draggable="true" data-id="E">
                                                <strong>E.</strong> Membilas, memberi kondisioner, mengeringkan, dan
                                                menata rambut.
                                            </li>
                                            <li class="list-group-item draggable-step" draggable="true" data-id="F">
                                                <strong>F.</strong> Membagi rambut menjadi beberapa bagian dan
                                                menyiapkan campuran kosmetik.
                                            </li>
                                        </ul>

                                        <div id="feedStep" class="mt-2 small"></div>
                                        <div class="btn-row">
                                            <button class="btn btn-outline-pink btn-sm" onclick="cekStep()">Cek
                                                Jawaban</button>
                                            <button class="btn btn-pink btn-sm" onclick="simpanStep()">Simpan Latihan
                                                2</button>
                                            <button class="btn btn-outline-secondary btn-sm"
                                                onclick="resetStep()">Reset</button>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- ================== SIMULASI (SAMA) ================== -->
                            <section id="simulasi" class="mb-5">
                                <div class="card card-pink shadow-sm">
                                    <div class="card-body">
                                        <div class="badge-section mb-1">Simulasi</div>
                                        <h2 class="h5 mb-2">Simulasi Satu Sesi Pewarnaan Uban</h2>
                                        <p class="text-secondary small">
                                            Centang langkah yang sudah kamu lakukan, kemudian lihat status simulasi.
                                            Semua data bisa disimpan di
                                            perangkatmu.
                                        </p>

                                        <div class="row g-3 mb-2">
                                            <div class="col-md-4">
                                                <h6 class="small text-uppercase text-secondary mb-1">Persiapan</h6>
                                                <div class="sim-step">
                                                    <div class="form-check small">
                                                        <input class="form-check-input" type="checkbox" id="sim_p1">
                                                        <label class="form-check-label" for="sim_p1">Area kerja bersih,
                                                            perabotan dan lantai siap
                                                            pakai.</label>
                                                    </div>
                                                    <div class="form-check small">
                                                        <input class="form-check-input" type="checkbox" id="sim_p2">
                                                        <label class="form-check-label" for="sim_p2">Peralatan, bahan,
                                                            dan kosmetik sudah disiapkan
                                                            lengkap.</label>
                                                    </div>
                                                    <div class="form-check small">
                                                        <input class="form-check-input" type="checkbox" id="sim_p3">
                                                        <label class="form-check-label" for="sim_p3">Pelanggan sudah
                                                            memakai cape dan posisi duduk
                                                            nyaman.</label>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <h6 class="small text-uppercase text-secondary mb-1">Pelaksanaan</h6>
                                                <div class="sim-step">
                                                    <div class="form-check small">
                                                        <input class="form-check-input" type="checkbox" id="sim_l1">
                                                        <label class="form-check-label" for="sim_l1">Rambut dibagi
                                                            bagian dan pewarna uban
                                                            diaplikasikan merata.</label>
                                                    </div>
                                                    <div class="form-check small">
                                                        <input class="form-check-input" type="checkbox" id="sim_l2">
                                                        <label class="form-check-label" for="sim_l2">Waktu proses diatur
                                                            sesuai petunjuk
                                                            produk.</label>
                                                    </div>
                                                    <div class="form-check small">
                                                        <input class="form-check-input" type="checkbox" id="sim_l3">
                                                        <label class="form-check-label" for="sim_l3">Rambut dibilas
                                                            hingga bersih dan diberi
                                                            kondisioner.</label>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <h6 class="small text-uppercase text-secondary mb-1">Berkemas</h6>
                                                <div class="sim-step">
                                                    <div class="form-check small">
                                                        <input class="form-check-input" type="checkbox" id="sim_b1">
                                                        <label class="form-check-label" for="sim_b1">Area kerja
                                                            dibersihkan dan alat dikembalikan ke
                                                            tempat semula.</label>
                                                    </div>
                                                    <div class="form-check small">
                                                        <input class="form-check-input" type="checkbox" id="sim_b2">
                                                        <label class="form-check-label" for="sim_b2">Linen kotor dipisah
                                                            dan dikumpulkan.</label>
                                                    </div>
                                                    <div class="form-check small">
                                                        <input class="form-check-input" type="checkbox" id="sim_b3">
                                                        <label class="form-check-label" for="sim_b3">Sisa kosmetik dan
                                                            sampah dibuang sesuai prosedur
                                                            kebersihan.</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <label class="small mb-1" for="simCatatan">Catatan kecilmu dari simulasi
                                            ini:</label>
                                        <textarea id="simCatatan" class="form-control form-control-sm" rows="2"
                                            placeholder="Tulis catatan di sini..."></textarea>

                                        <div id="feedSim" class="mt-2 small"></div>
                                        <div class="btn-row">
                                            <button class="btn btn-outline-pink btn-sm" onclick="cekSim()">Lihat Status
                                                Simulasi</button>
                                            <button class="btn btn-pink btn-sm" onclick="simpanSim()">Simpan
                                                Simulasi</button>
                                            <button class="btn btn-outline-secondary btn-sm"
                                                onclick="resetSim()">Reset</button>
                                        </div>
                                    </div>
                                </div>
                            </section>

                        </div>
                    </div>

                    <!-- TOMBOL NAVIGASI DI BAWAH KONTEN -->
                    <div class="page-nav">
                        <div class="page-nav-inner">
                            <a class="btn btn-outline-secondary" href="UjiTempel.html">
                                <i class="bi bi-arrow-left"></i> Sebelumnya
                            </a>
                            <a class="btn btn-brand" href="ReaksiAlergiUban.html">
                                Berikutnya <i class="bi bi-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="footer fixed-bottom py-2">
        <div class="container d-flex justify-content-between align-items-center small">
            <span>SMKS ISFI BANJARMASIN ‚Ä¢ Hair Coloring</span>
            <span class="text-muted">¬© 2025 ‚Ä¢ Single Application</span>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const LS_KEY = 'prosedur_uban_state_v1';

        const correctOrder = ['B', 'C', 'F', 'A', 'D', 'E'];      // urutan benar
        const defaultOrder = ['A', 'B', 'C', 'D', 'E', 'F'];      // urutan saat Reset

        // ---------- UTIL URUTAN LIST ----------
        function getCurrentOrder() {
            const list = document.getElementById('stepList');
            return Array.from(list.children).map(li => li.dataset.id);
        }

        function applyOrder(orderArr) {
            const list = document.getElementById('stepList');
            const map = {};
            Array.from(list.children).forEach(li => {
                map[li.dataset.id] = li;
            });
            orderArr.forEach(id => {
                if (map[id]) list.appendChild(map[id]);
            });
        }

        // ---------- LOCAL STORAGE ----------
        function saveState() {
            if (typeof Storage === 'undefined') return;

            const state = {
                prepQuiz: {
                    prep1: document.getElementById('prep1').value,
                    prep2: document.getElementById('prep2').value,
                    prep3: document.getElementById('prep3').value,
                    prep4: document.getElementById('prep4').value,
                    feed: document.getElementById('feedPrep').innerHTML
                },
                stepQuiz: {
                    order: getCurrentOrder(),
                    feed: document.getElementById('feedStep').innerHTML
                },
                sim: {
                    p1: document.getElementById('sim_p1').checked,
                    p2: document.getElementById('sim_p2').checked,
                    p3: document.getElementById('sim_p3').checked,
                    l1: document.getElementById('sim_l1').checked,
                    l2: document.getElementById('sim_l2').checked,
                    l3: document.getElementById('sim_l3').checked,
                    b1: document.getElementById('sim_b1').checked,
                    b2: document.getElementById('sim_b2').checked,
                    b3: document.getElementById('sim_b3').checked,
                    note: document.getElementById('simCatatan').value,
                    feed: document.getElementById('feedSim').innerHTML
                }
            };

            localStorage.setItem(LS_KEY, JSON.stringify(state));
        }

        function loadState() {
            if (typeof Storage === 'undefined') return;
            const raw = localStorage.getItem(LS_KEY);
            if (!raw) return;
            let state;
            try { state = JSON.parse(raw); } catch (e) { console.error(e); return; }

            // latihan 1
            if (state.prepQuiz) {
                document.getElementById('prep1').value = state.prepQuiz.prep1 || '';
                document.getElementById('prep2').value = state.prepQuiz.prep2 || '';
                document.getElementById('prep3').value = state.prepQuiz.prep3 || '';
                document.getElementById('prep4').value = state.prepQuiz.prep4 || '';
                document.getElementById('feedPrep').innerHTML = state.prepQuiz.feed || '';
            }

            // latihan 2
            if (state.stepQuiz && Array.isArray(state.stepQuiz.order) && state.stepQuiz.order.length) {
                applyOrder(state.stepQuiz.order);
                document.getElementById('feedStep').innerHTML = state.stepQuiz.feed || '';
            }

            // simulasi
            if (state.sim) {
                document.getElementById('sim_p1').checked = !!state.sim.p1;
                document.getElementById('sim_p2').checked = !!state.sim.p2;
                document.getElementById('sim_p3').checked = !!state.sim.p3;
                document.getElementById('sim_l1').checked = !!state.sim.l1;
                document.getElementById('sim_l2').checked = !!state.sim.l2;
                document.getElementById('sim_l3').checked = !!state.sim.l3;
                document.getElementById('sim_b1').checked = !!state.sim.b1;
                document.getElementById('sim_b2').checked = !!state.sim.b2;
                document.getElementById('sim_b3').checked = !!state.sim.b3;
                document.getElementById('simCatatan').value = state.sim.note || '';
                document.getElementById('feedSim').innerHTML = state.sim.feed || '';
            }
        }

        // ---------- LATIHAN 1 ----------
        function cekPrep() {
            const p1 = document.getElementById('prep1').value;
            const p2 = document.getElementById('prep2').value;
            const p3 = document.getElementById('prep3').value;
            const p4 = document.getElementById('prep4').value;
            const box = document.getElementById('feedPrep');

            if (!p1 || !p2 || !p3 || !p4) {
                box.innerHTML = '<span class="text-danger">Isi semua nomor 1‚Äì4 terlebih dahulu.</span>';
                saveState();
                return;
            }

            let benar = 0;
            if (p1 === 'bahan') benar++;
            if (p2 === 'alat') benar++;
            if (p3 === 'kosmetik') benar++;
            if (p4 === 'pribadi') benar++;

            if (benar === 4) {
                box.innerHTML = '<span class="text-success">‚úÖ Keren! Kamu bisa mengelompokkan jenis persiapan dengan tepat.</span>';
            } else {
                box.innerHTML = '<span class="text-warning">‚ö†Ô∏è Skor kamu ' + benar + '/4. Coba baca lagi ringkasan Tabel 6.6 di atas.</span>';
            }
            saveState();
        }

        function simpanPrep() {
            saveState();
            document.getElementById('feedPrep').innerHTML +=
                '<div class="text-secondary mt-1">üíæ Jawaban Latihan 1 tersimpan di perangkat ini.</div>';
        }

        function resetPrep() {
            document.getElementById('prep1').value = '';
            document.getElementById('prep2').value = '';
            document.getElementById('prep3').value = '';
            document.getElementById('prep4').value = '';
            document.getElementById('feedPrep').innerHTML = '';
            saveState();
        }

        // ---------- LATIHAN 2 ‚Äì LOGIKA DRAG & DROP ----------
        function cekStep() {
            const order = getCurrentOrder();
            let benar = 0;
            order.forEach((id, idx) => {
                if (id === correctOrder[idx]) benar++;
            });
            const box = document.getElementById('feedStep');

            if (benar === correctOrder.length) {
                box.innerHTML = '<span class="text-success">‚úÖ Tepat! Urutan kerjamu sudah sesuai prosedur pewarnaan uban.</span>';
            } else {
                box.innerHTML = '<span class="text-warning">‚ö†Ô∏è Skor ' + benar + '/' + correctOrder.length +
                    '. Ingat urutannya: konsultasi ‚Üí cuci &amp; kering ‚Üí bagi rambut + campur kosmetik ‚Üí aplikasi ‚Üí proses ‚Üí bilas &amp; tata.</span>';
            }
            saveState();
        }

        function simpanStep() {
            saveState();
            document.getElementById('feedStep').innerHTML +=
                '<div class="text-secondary mt-1">üíæ Urutan Latihan 2 sudah tersimpan.</div>';
        }

        function resetStep() {
            applyOrder(defaultOrder);
            document.getElementById('feedStep').innerHTML = '';
            saveState();
        }

        function setupDrag() {
            const list = document.getElementById('stepList');

            list.addEventListener('dragstart', e => {
                const li = e.target.closest('.draggable-step');
                if (!li) return;
                li.classList.add('dragging');
                e.dataTransfer.effectAllowed = 'move';
            });

            list.addEventListener('dragend', e => {
                const li = e.target.closest('.draggable-step');
                if (!li) return;
                li.classList.remove('dragging');
                Array.from(list.children).forEach(c => c.classList.remove('drop-target'));
                saveState();
            });

            list.addEventListener('dragover', e => {
                e.preventDefault();
                const dragging = list.querySelector('.dragging');
                if (!dragging) return;

                const afterElement = getDragAfterElement(list, e.clientY);
                Array.from(list.children).forEach(c => c.classList.remove('drop-target'));

                if (afterElement == null) {
                    list.appendChild(dragging);
                } else {
                    afterElement.classList.add('drop-target');
                    list.insertBefore(dragging, afterElement);
                }
            });
        }

        function getDragAfterElement(container, y) {
            const draggableElements = [...container.querySelectorAll('.draggable-step:not(.dragging)')];

            return draggableElements.reduce((closest, child) => {
                const box = child.getBoundingClientRect();
                const offset = y - box.top - box.height / 2;
                if (offset < 0 && offset > closest.offset) {
                    return { offset: offset, element: child };
                } else {
                    return closest;
                }
            }, { offset: Number.NEGATIVE_INFINITY, element: null }).element;
        }

        // ---------- SIMULASI ----------
        function cekSim() {
            const ids = ['sim_p1', 'sim_p2', 'sim_p3', 'sim_l1', 'sim_l2', 'sim_l3', 'sim_b1', 'sim_b2', 'sim_b3'];
            let total = ids.length;
            let done = 0;
            ids.forEach(id => {
                const el = document.getElementById(id);
                const stepBox = el.closest('.sim-step');
                if (el.checked) {
                    done++;
                }
                if (stepBox) {
                    if (el.checked) stepBox.classList.add('done');
                    else stepBox.classList.remove('done');
                }
            });

            const pct = Math.round(done / total * 100);
            const box = document.getElementById('feedSim');
            if (done === total) {
                box.innerHTML = '<span class="text-success">‚úÖ Semua langkah penting sudah kamu centang (' + pct + '%). Simulasi lengkap!</span>';
            } else {
                box.innerHTML = '<span class="text-warning">‚ö†Ô∏è Kamu baru mencentang ' + done + ' dari ' + total + ' langkah (' + pct + '%). Cek lagi bagian yang belum dilakukan.</span>';
            }
            saveState();
        }

        function simpanSim() {
            saveState();
            document.getElementById('feedSim').innerHTML +=
                '<div class="text-secondary mt-1">üíæ Status simulasi dan catatanmu telah disimpan.</div>';
        }

        function resetSim() {
            ['sim_p1', 'sim_p2', 'sim_p3', 'sim_l1', 'sim_l2', 'sim_l3', 'sim_b1', 'sim_b2', 'sim_b3'].forEach(id => {
                document.getElementById(id).checked = false;
            });
            document.getElementById('simCatatan').value = '';
            document.getElementById('feedSim').innerHTML = '';
            document.querySelectorAll('.sim-step').forEach(box => box.classList.remove('done'));
            saveState();
        }

        // ---------- INIT ----------
        window.addEventListener('DOMContentLoaded', () => {
            setupDrag();
            loadState();

            // auto-save sederhana saat isi berubah (latihan 1 + simulasi)
            ['prep1', 'prep2', 'prep3', 'prep4',
                'sim_p1', 'sim_p2', 'sim_p3', 'sim_l1', 'sim_l2', 'sim_l3',
                'sim_b1', 'sim_b2', 'sim_b3'
            ].forEach(id => {
                const el = document.getElementById(id);
                if (!el) return;
                el.addEventListener('change', saveState);
            });
            const note = document.getElementById('simCatatan');
            if (note) note.addEventListener('blur', saveState);
        });
    </script>
</body>

</html>